<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CER Earth Science Data Explorer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <link rel="stylesheet" href="../../css/flexoki-theme.css">
    <style>
        /* Flexoki Theme Variables */
        :root {
            /* Base Colors */
            --fx-paper: #FFFCF0;
            --fx-base-50: #F2F0E5;
            --fx-base-100: #EFEBD4;
            --fx-base-150: #E6E2CC;
            --fx-base-200: #DAD4BA;
            --fx-base-300: #C8BFA1;
            --fx-base-400: #B5A988;
            --fx-base-500: #9C8F70;
            --fx-base-600: #847759;
            --fx-base-700: #6F6144;
            --fx-base-800: #575142;
            --fx-base-850: #403E39;
            --fx-base-900: #343331;
            --fx-base-950: #1C1B1A;
            --fx-black: #100F0F;

            /* Light Theme Accent Colors */
            --fx-red-light: #D14D41;
            --fx-orange-light: #DA702C;
            --fx-yellow-light: #D0A215;
            --fx-green-light: #879A39;
            --fx-cyan-light: #3AA99F;
            --fx-blue-light: #4385BE;
            --fx-purple-light: #8B7EC8;
            --fx-magenta-light: #CE5D97;

            /* Dark Theme Accent Colors */
            --fx-red-dark: #AF3029;
            --fx-orange-dark: #BC5215;
            --fx-yellow-dark: #AD8301;
            --fx-green-dark: #66800B;
            --fx-cyan-dark: #24837B;
            --fx-blue-dark: #205EA6;
            --fx-purple-dark: #5E409D;
            --fx-magenta-dark: #A02F6F;
        }

        /* Light Theme (Default) */
        :root {
            --bg-primary: var(--fx-paper);
            --bg-secondary: var(--fx-base-50);
            --bg-tertiary: var(--fx-base-100);
            --text-primary: var(--fx-base-950);
            --text-secondary: var(--fx-base-700);
            --text-muted: var(--fx-base-600);
            --border-color: var(--fx-base-200);
            --border-hover: var(--fx-base-300);
            --accent-primary: var(--fx-blue-light);
            --accent-hover: var(--fx-blue-dark);
            --accent-secondary: var(--fx-purple-light);
            --success: var(--fx-green-light);
            --warning: var(--fx-orange-light);
            --error: var(--fx-red-light);
            --shadow: rgba(28, 27, 26, 0.1);
            --shadow-hover: rgba(28, 27, 26, 0.15);
        }

        /* Dark Theme */
        [data-theme="dark"] {
            --bg-primary: var(--fx-black);
            --bg-secondary: var(--fx-base-950);
            --bg-tertiary: var(--fx-base-900);
            --text-primary: var(--fx-paper);
            --text-secondary: var(--fx-base-200);
            --text-muted: var(--fx-base-400);
            --border-color: var(--fx-base-850);
            --border-hover: var(--fx-base-700);
            --accent-primary: var(--fx-blue-dark);
            --accent-hover: var(--fx-blue-light);
            --accent-secondary: var(--fx-purple-dark);
            --success: var(--fx-green-dark);
            --warning: var(--fx-orange-dark);
            --error: var(--fx-red-dark);
            --shadow: rgba(16, 15, 15, 0.3);
            --shadow-hover: rgba(16, 15, 15, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        body {
            font-family: 'Fira Code', 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .theme-toggle:hover {
            background-color: var(--accent-primary);
            color: var(--bg-primary);
            border-color: var(--accent-primary);
        }

        .theme-toggle::before {
            content: '‚òÄÔ∏è Light';
        }

        [data-theme="dark"] .theme-toggle::before {
            content: 'üåô Dark';
        }
        
        .container {
            max-width: 1200px;
            margin: 80px auto 0;
            background-color: var(--bg-secondary);
            border-radius: 12px;
            box-shadow: 0 8px 32px var(--shadow);
            overflow: visible;
            border: 1px solid var(--border-color);
        }
        
        header {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            padding: 20px 30px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }
        
        h1 {
            font-family: 'Inconsolata', 'SF Mono', 'Monaco', 'Fira Code', monospace;
            font-size: 2.2em;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 1.1em;
            color: var(--text-secondary);
            margin-bottom: 0;
        }
        
        .dataset-selector {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 15px 10px;
            background-color: var(--bg-tertiary);
            flex-wrap: wrap;
            border-bottom: 1px solid var(--border-color);
            min-height: 70px;
        }
        
        .dataset-btn {
            padding: 8px 16px;
            border: 1px solid var(--accent-primary);
            background-color: var(--accent-primary);
            color: var(--bg-primary);
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px var(--shadow);
            font-family: inherit;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        .dataset-btn:hover {
            background-color: var(--accent-hover);
            border-color: var(--accent-hover);
            box-shadow: 0 4px 8px var(--shadow-hover);
            transform: translateY(-1px);
        }
        
        .dataset-btn.active {
            background-color: var(--accent-secondary);
            border-color: var(--accent-secondary);
        }
        
        .content {
            padding: 30px;
            background-color: var(--bg-primary);
        }
        
        .dataset-info {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .dataset-info.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .info-card {
            background-color: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .info-card h3 {
            color: var(--accent-primary);
            margin-bottom: 10px;
            font-size: 1.4em;
            font-family: 'Inconsolata', 'SF Mono', 'Monaco', 'Fira Code', monospace;
        }

        .info-card p {
            color: var(--text-secondary);
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            background-color: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }
        
        .cer-template {
            background-color: var(--bg-secondary);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .cer-template h3 {
            color: var(--warning);
            margin-bottom: 20px;
            font-size: 1.5em;
            font-family: 'Inconsolata', 'SF Mono', 'Monaco', 'Fira Code', monospace;
        }
        
        .cer-section {
            margin-bottom: 20px;
            background-color: var(--bg-primary);
            padding: 15px;
            border-radius: 6px;
            box-shadow: 0 1px 3px var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .cer-section h4 {
            color: var(--accent-primary);
            margin-bottom: 10px;
            font-family: 'Inconsolata', 'SF Mono', 'Monaco', 'Fira Code', monospace;
        }
        
        .cer-section p {
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        .question-prompt {
            background-color: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.1em;
            font-weight: 500;
            color: var(--text-primary);
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--accent-primary);
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .data-table th {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }
        
        .data-table tr:hover {
            background-color: var(--bg-tertiary);
        }
        
        .interactive-controls {
            background-color: var(--bg-secondary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .control-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 16px;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: inherit;
        }

        .control-group select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(67, 133, 190, 0.2);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .container {
                margin: 80px 0 0;
            }
            
            .content {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .dataset-selector {
                gap: 6px;
                padding: 10px 8px;
                min-height: 80px;
            }
            
            .dataset-btn {
                padding: 8px 12px;
                font-size: 13px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.75rem;
            }
            
            .dataset-selector {
                flex-direction: column;
                align-items: center;
                gap: 8px;
                padding: 15px;
                min-height: auto;
            }
            
            .dataset-btn {
                width: 100%;
                max-width: 280px;
                padding: 10px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <button type="button" class="theme-toggle" onclick="toggleTheme()" title="Toggle between light and dark theme"></button>
    <div class="container">
        <header>
            <h1>üåç Earth Science CER Data Explorer</h1>
            <p class="subtitle">Analyze Real Data to Make Scientific Arguments</p>
        </header>
        
        <div class="dataset-selector">
            <button type="button" class="dataset-btn active" onclick="showDataset('earthquakes')" title="View earthquake depth and magnitude data">üåã Earthquakes & Depth</button>
            <button type="button" class="dataset-btn" onclick="showDataset('climate')" title="View global temperature change data">üå°Ô∏è Global Temperature Change</button>
            <button type="button" class="dataset-btn" onclick="showDataset('sealevel')" title="View sea level rise data">üåä Sea Level Rise</button>
            <button type="button" class="dataset-btn" onclick="showDataset('co2')" title="View atmospheric CO‚ÇÇ concentration data">üí® CO‚ÇÇ Levels</button>
            <button type="button" class="dataset-btn" onclick="showDataset('planets')" title="View solar system planetary data">ü™ê Solar System Data</button>
            <button type="button" class="dataset-btn" onclick="showDataset('hurricanes')" title="View hurricane intensity distribution data">üåÄ Hurricane Intensity</button>
        </div>
        
        <div class="content">
            <!-- Earthquakes Dataset -->
            <div id="earthquakes" class="dataset-info active">
                <div class="info-card">
                    <h3>üìä Dataset: Global Earthquake Patterns (2020-2024)</h3>
                    <p>This dataset shows the relationship between earthquake depth and magnitude for major seismic events worldwide. Data represents significant earthquakes (M>4.0) from tectonic plate boundaries.</p>
                </div>
                
                <div class="question-prompt">
                    üî¨ <strong>Question:</strong> Is there a relationship between earthquake depth and magnitude? What patterns do you observe?
                </div>
                
                <div class="chart-container">
                    <canvas id="earthquakeChart"></canvas>
                </div>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Location</th>
                            <th>Depth (km)</th>
                            <th>Magnitude</th>
                            <th>Plate Boundary Type</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Japan Trench</td><td>35</td><td>7.1</td><td>Convergent</td></tr>
                        <tr><td>Chile Subduction</td><td>125</td><td>6.2</td><td>Convergent</td></tr>
                        <tr><td>Mid-Atlantic Ridge</td><td>10</td><td>5.8</td><td>Divergent</td></tr>
                        <tr><td>San Andreas</td><td>15</td><td>6.4</td><td>Transform</td></tr>
                        <tr><td>Tonga Trench</td><td>580</td><td>5.2</td><td>Convergent</td></tr>
                        <tr><td>Peru-Chile</td><td>200</td><td>5.9</td><td>Convergent</td></tr>
                    </tbody>
                </table>
                
                <div class="cer-template">
                    <h3>üìù Build Your CER Argument</h3>
                    <div class="cer-section">
                        <h4>Claim:</h4>
                        <p><em>State your answer to the question. What pattern do you observe?</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Evidence:</h4>
                        <p><em>Describe specific data points from the graph. Include numbers and comparisons.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Reasoning:</h4>
                        <p><em>Explain the Earth science principle. Why does this pattern occur? Consider plate tectonics.</em></p>
                    </div>
                </div>
            </div>
            
            <!-- Climate Dataset -->
            <div id="climate" class="dataset-info">
                <div class="info-card">
                    <h3>üìä Dataset: Global Temperature Anomaly (1880-2024)</h3>
                    <p>Temperature deviation from the 1951-1980 average. Data from NASA GISS Surface Temperature Analysis.</p>
                </div>
                
                <div class="question-prompt">
                    üî¨ <strong>Question:</strong> How has Earth's average temperature changed over time? What trend do you observe?
                </div>
                
                <div class="chart-container">
                    <canvas id="climateChart"></canvas>
                </div>
                
                <div class="cer-template">
                    <h3>üìù Build Your CER Argument</h3>
                    <div class="cer-section">
                        <h4>Claim:</h4>
                        <p><em>State the temperature trend you observe.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Evidence:</h4>
                        <p><em>Cite specific years and temperature values. Compare different time periods.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Reasoning:</h4>
                        <p><em>Explain the greenhouse effect and climate science principles.</em></p>
                    </div>
                </div>
            </div>
            
            <!-- Sea Level Dataset -->
            <div id="sealevel" class="dataset-info">
                <div class="info-card">
                    <h3>üìä Dataset: Global Sea Level Change (1993-2024)</h3>
                    <p>Satellite measurements of global mean sea level from NASA. Values show change relative to 1993 baseline.</p>
                </div>
                
                <div class="question-prompt">
                    üî¨ <strong>Question:</strong> How has global sea level changed since 1993? What is the rate of change?
                </div>
                
                <div class="chart-container">
                    <canvas id="sealevelChart"></canvas>
                </div>
                
                <div class="cer-template">
                    <h3>üìù Build Your CER Argument</h3>
                    <div class="cer-section">
                        <h4>Claim:</h4>
                        <p><em>State what's happening to sea level.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Evidence:</h4>
                        <p><em>Calculate the rate of change. Compare early vs recent years.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Reasoning:</h4>
                        <p><em>Explain thermal expansion and ice melt contributions.</em></p>
                    </div>
                </div>
            </div>
            
            <!-- CO2 Dataset -->
            <div id="co2" class="dataset-info">
                <div class="info-card">
                    <h3>üìä Dataset: Atmospheric CO‚ÇÇ Concentration (1960-2024)</h3>
                    <p>Monthly measurements from Mauna Loa Observatory, Hawaii. Data shows parts per million (ppm) of CO‚ÇÇ.</p>
                </div>
                
                <div class="question-prompt">
                    üî¨ <strong>Question:</strong> How have atmospheric CO‚ÇÇ levels changed? What patterns do you notice?
                </div>
                
                <div class="chart-container">
                    <canvas id="co2Chart"></canvas>
                </div>
                
                <div class="cer-template">
                    <h3>üìù Build Your CER Argument</h3>
                    <div class="cer-section">
                        <h4>Claim:</h4>
                        <p><em>Describe the CO‚ÇÇ trend and any patterns.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Evidence:</h4>
                        <p><em>Compare values from different decades. Note seasonal patterns.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Reasoning:</h4>
                        <p><em>Explain carbon cycle and human impacts.</em></p>
                    </div>
                </div>
            </div>
            
            <!-- Solar System Dataset -->
            <div id="planets" class="dataset-info">
                <div class="info-card">
                    <h3>üìä Dataset: Solar System Data from NYS Reference Tables</h3>
                    <p>This dataset from the NYS Earth Science Reference Tables shows relationships between planetary characteristics including distance from the Sun, revolution period, and diameter.</p>
                </div>
                
                <div class="question-prompt">
                    üî¨ <strong>Question:</strong> What is the relationship between a planet's distance from the Sun and its period of revolution?
                </div>
                
                <div class="chart-container">
                    <canvas id="planetChart"></canvas>
                </div>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Planet</th>
                            <th>Distance from Sun (million km)</th>
                            <th>Period of Revolution</th>
                            <th>Diameter (km)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Mercury</td><td>57.9</td><td>88 days</td><td>4,879</td></tr>
                        <tr><td>Venus</td><td>108.2</td><td>224.7 days</td><td>12,104</td></tr>
                        <tr><td>Earth</td><td>149.6</td><td>365.26 days</td><td>12,756</td></tr>
                        <tr><td>Mars</td><td>228.0</td><td>1.9 years</td><td>6,792</td></tr>
                        <tr><td>Jupiter</td><td>778.5</td><td>11.9 years</td><td>142,984</td></tr>
                        <tr><td>Saturn</td><td>1432.0</td><td>29.5 years</td><td>120,536</td></tr>
                        <tr><td>Uranus</td><td>2867.0</td><td>83.7 years</td><td>51,118</td></tr>
                        <tr><td>Neptune</td><td>4515.0</td><td>163.7 years</td><td>49,528</td></tr>
                    </tbody>
                </table>
                
                <div class="cer-template">
                    <h3>üìù Build Your CER Argument</h3>
                    <div class="cer-section">
                        <h4>Claim:</h4>
                        <p><em>State the relationship between distance and revolution period.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Evidence:</h4>
                        <p><em>Compare specific planets. Include actual distances and periods.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Reasoning:</h4>
                        <p><em>Explain using Kepler's Laws and gravitational principles.</em></p>
                    </div>
                </div>
            </div>
            
            <!-- Hurricanes Dataset -->
            <div id="hurricanes" class="dataset-info">
                <div class="info-card">
                    <h3>üìä Dataset: Atlantic Hurricane Categories (2000-2024)</h3>
                    <p>Distribution of Atlantic hurricanes by category. Data from National Hurricane Center.</p>
                </div>
                
                <div class="question-prompt">
                    üî¨ <strong>Question:</strong> How are hurricanes distributed by intensity? What factors might influence this?
                </div>
                
                <div class="interactive-controls">
                    <div class="control-group">
                        <label for="hurricaneYear">Select Time Period:</label>
                        <select id="hurricaneYear" onchange="updateHurricaneChart()">
                            <option value="all">All Years (2000-2024)</option>
                            <option value="early">2000-2012</option>
                            <option value="recent">2013-2024</option>
                        </select>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="hurricaneChart"></canvas>
                </div>
                
                <div class="cer-template">
                    <h3>üìù Build Your CER Argument</h3>
                    <div class="cer-section">
                        <h4>Claim:</h4>
                        <p><em>State the pattern in hurricane intensity distribution.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Evidence:</h4>
                        <p><em>Compare different categories. Note any changes between time periods.</em></p>
                    </div>
                    <div class="cer-section">
                        <h4>Reasoning:</h4>
                        <p><em>Explain hurricane formation and factors affecting intensity.</em></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Store chart instances
        let charts = {};
        
        // Initialize all charts
        function initCharts() {
            // Earthquake Chart
            const eqCtx = document.getElementById('earthquakeChart').getContext('2d');
            charts.earthquake = new Chart(eqCtx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Shallow (<70km)',
                        data: [
                            {x: 10, y: 5.8}, {x: 15, y: 6.4}, {x: 35, y: 7.1},
                            {x: 25, y: 5.5}, {x: 45, y: 6.8}, {x: 20, y: 5.2},
                            {x: 55, y: 6.1}, {x: 30, y: 5.9}, {x: 40, y: 6.6}
                        ],
                        backgroundColor: 'rgba(255, 99, 132, 0.6)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        pointRadius: 8
                    }, {
                        label: 'Intermediate (70-300km)',
                        data: [
                            {x: 125, y: 6.2}, {x: 200, y: 5.9}, {x: 150, y: 5.5},
                            {x: 180, y: 5.7}, {x: 250, y: 5.3}, {x: 100, y: 6.0},
                            {x: 220, y: 5.4}, {x: 280, y: 5.1}
                        ],
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        pointRadius: 8
                    }, {
                        label: 'Deep (>300km)',
                        data: [
                            {x: 580, y: 5.2}, {x: 450, y: 5.6}, {x: 650, y: 4.8},
                            {x: 520, y: 5.3}, {x: 400, y: 5.8}, {x: 600, y: 5.0}
                        ],
                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        pointRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Earthquake Depth vs Magnitude',
                            font: { size: 18 }
                        },
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Depth (km)',
                                font: { size: 14 }
                            },
                            min: 0,
                            max: 700
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Magnitude',
                                font: { size: 14 }
                            },
                            min: 4,
                            max: 8
                        }
                    }
                }
            });
            
            // Climate Chart
            const climateCtx = document.getElementById('climateChart').getContext('2d');
            charts.climate = new Chart(climateCtx, {
                type: 'line',
                data: {
                    labels: ['1880', '1900', '1920', '1940', '1960', '1980', '2000', '2010', '2020', '2024'],
                    datasets: [{
                        label: 'Temperature Anomaly (¬∞C)',
                        data: [-0.2, -0.15, -0.27, 0.12, -0.03, 0.26, 0.42, 0.72, 1.01, 1.24],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Global Temperature Anomaly from 1951-1980 Average',
                            font: { size: 18 }
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Temperature Anomaly (¬∞C)',
                                font: { size: 14 }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year',
                                font: { size: 14 }
                            }
                        }
                    }
                }
            });
            
            // Sea Level Chart
            const seaCtx = document.getElementById('sealevelChart').getContext('2d');
            charts.sealevel = new Chart(seaCtx, {
                type: 'line',
                data: {
                    labels: ['1993', '1996', '1999', '2002', '2005', '2008', '2011', '2014', '2017', '2020', '2024'],
                    datasets: [{
                        label: 'Sea Level Change (mm)',
                        data: [0, 12, 18, 28, 35, 42, 50, 61, 75, 88, 104],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Global Mean Sea Level Change Since 1993',
                            font: { size: 18 }
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Sea Level Change (mm)',
                                font: { size: 14 }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year',
                                font: { size: 14 }
                            }
                        }
                    }
                }
            });
            
            // CO2 Chart
            const co2Ctx = document.getElementById('co2Chart').getContext('2d');
            charts.co2 = new Chart(co2Ctx, {
                type: 'line',
                data: {
                    labels: ['1960', '1970', '1980', '1990', '2000', '2010', '2020', '2024'],
                    datasets: [{
                        label: 'CO‚ÇÇ Concentration (ppm)',
                        data: [317, 326, 339, 354, 369, 390, 414, 422],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Atmospheric CO‚ÇÇ Concentration at Mauna Loa',
                            font: { size: 18 }
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'CO‚ÇÇ (ppm)',
                                font: { size: 14 }
                            },
                            min: 300
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year',
                                font: { size: 14 }
                            }
                        }
                    }
                }
            });
            
            // Solar System Chart
            const planetCtx = document.getElementById('planetChart').getContext('2d');
            charts.planet = new Chart(planetCtx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Inner Planets',
                        data: [
                            {x: 57.9, y: 0.24}, // Mercury (88 days = 0.24 years)
                            {x: 108.2, y: 0.62}, // Venus (224.7 days = 0.62 years)
                            {x: 149.6, y: 1.0}, // Earth
                            {x: 228.0, y: 1.9} // Mars
                        ],
                        backgroundColor: 'rgba(255, 159, 64, 0.6)',
                        borderColor: 'rgba(255, 159, 64, 1)',
                        pointRadius: 10
                    }, {
                        label: 'Outer Planets',
                        data: [
                            {x: 778.5, y: 11.9}, // Jupiter
                            {x: 1432.0, y: 29.5}, // Saturn
                            {x: 2867.0, y: 83.7}, // Uranus
                            {x: 4515.0, y: 163.7} // Neptune
                        ],
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        pointRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Planetary Distance vs. Revolution Period',
                            font: { size: 18 }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const planets = ['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune'];
                                    const index = context.dataIndex + (context.datasetIndex * 4);
                                    return planets[index] + ': ' + context.parsed.x + ' million km, ' + context.parsed.y + ' years';
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Distance from Sun (million km) - Log Scale',
                                font: { size: 14 }
                            },
                            min: 50,
                            max: 5000
                        },
                        y: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Period of Revolution (years) - Log Scale',
                                font: { size: 14 }
                            },
                            min: 0.2,
                            max: 200
                        }
                    }
                }
            });
            
            // Hurricane Chart
            createHurricaneChart('all');
        }
        
        function createHurricaneChart(period) {
            const ctx = document.getElementById('hurricaneChart').getContext('2d');
            
            let data;
            if (period === 'early') {
                data = [12, 18, 28, 15, 8];
            } else if (period === 'recent') {
                data = [10, 15, 25, 20, 12];
            } else {
                data = [22, 33, 53, 35, 20];
            }
            
            if (charts.hurricane) {
                charts.hurricane.destroy();
            }
            
            charts.hurricane = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Category 1', 'Category 2', 'Category 3', 'Category 4', 'Category 5'],
                    datasets: [{
                        label: 'Number of Hurricanes',
                        data: data,
                        backgroundColor: [
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(255, 159, 64, 0.6)',
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(153, 102, 255, 0.6)',
                            'rgba(75, 0, 130, 0.6)'
                        ],
                        borderColor: [
                            'rgba(255, 206, 86, 1)',
                            'rgba(255, 159, 64, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(75, 0, 130, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Atlantic Hurricane Distribution by Category',
                            font: { size: 18 }
                        },
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Number of Hurricanes',
                                font: { size: 14 }
                            },
                            beginAtZero: true
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Hurricane Category (Saffir-Simpson Scale)',
                                font: { size: 14 }
                            }
                        }
                    }
                }
            });
        }
        
        function updateHurricaneChart() {
            const period = document.getElementById('hurricaneYear').value;
            createHurricaneChart(period);
        }
        
        function showDataset(dataset) {
            // Update button states
            document.querySelectorAll('.dataset-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show selected dataset
            document.querySelectorAll('.dataset-info').forEach(info => {
                info.classList.remove('active');
            });
            document.getElementById(dataset).classList.add('active');
        }
        
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
        }

        // Initialize charts when page loads
        window.onload = function() {
            loadTheme();
            initCharts();
        };
    </script>
</body>
</html>